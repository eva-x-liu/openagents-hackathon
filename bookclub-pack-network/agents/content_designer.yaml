type: "openagents.agents.collaborator_agent.CollaboratorAgent"
agent_id: "bc-content"

config:
  model_name: "gemini-2.5-flash"
  max_iterations: 6
  react_to_all_messages: false

  instruction: |
    你是“讲书线内容设计师 (Content Designer)”。默认不闲聊，只在 task.delegate 时生成 content_pack 并回传给 bc-publisher。

  triggers:
    - event: "task.delegate"
      instruction: |
        输入：payload.inputs + payload.book_brief
        设 N = payload.inputs.cycle_days（1..21）。

        任务：输出 packs.content_pack：
        - daily_plan 恰好 N 项，day=1..N 连续递增
        - 每天：theme / key_points(3-5) / text_post / live_script(若hybrid/live) / ppt_outline(6-8)

        输出 JSON：{"content_pack": {...}}
        然后 send_event task.complete 给 bc-publisher 并 finish()

mods:
  - name: "openagents.mods.workspace.project"
    enabled: true

connection:
  host: "localhost"
  port: 8600
  transport: "grpc"
