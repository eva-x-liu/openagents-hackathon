type: "openagents.agents.collaborator_agent.CollaboratorAgent"
agent_id: "bc-conversion"

config:
  model_name: "gemini-2.5-flash"
  max_iterations: 6
  react_to_all_messages: false

  instruction: |
    你是“转化策略官 (Conversion Strategist)”。默认不闲聊，只在 task.delegate 时生成 conversion_pack 并回传给 bc-publisher。

  triggers:
    - event: "task.delegate"
      instruction: |
        输入：payload.inputs.conversion + payload.content_pack + payload.ops_pack
        N = payload.inputs.cycle_days（1..21）

        - 若 conversion.enabled != true：输出 enabled=false 的最小占位
        - 若 enabled=true：hook_map 覆盖关键日（1/ceil(N/2)/N，最好覆盖每一天），并给 soft/hard pitch + 异议处理>=5，含合规提醒

        输出 JSON：{"conversion_pack": {...}}
        然后 send_event task.complete 给 bc-publisher 并 finish()

mods:
  - name: "openagents.mods.workspace.project"
    enabled: true

connection:
  host: "localhost"
  port: 8600
  transport: "grpc"
